---
const STREAM_URL = "https://stream-179.zeno.fm/0nee6x4y1a0uv";
---
<div
  class="fixed bottom-0 left-0 z-50 w-full bg-black/90 backdrop-blur border-t border-white/10"
>
  <div class="mx-auto max-w-7xl flex items-center justify-between gap-4 px-4 py-3 text-white">

    <!-- Info -->
    <div class="flex items-center gap-3">
      <span class="h-3 w-3 rounded-full bg-red-500 animate-pulse"></span>
      <p class="text-sm font-semibold leading-none">
        EN VIVO
        <span class="block text-xs font-normal text-white/70">
          Radio Nils Pineda
        </span>
      </p>
    </div>

    <!-- Controles -->
    <div class="flex items-center gap-3">
      <button
        id="playPause"
        class="rounded-full bg-white/10 hover:bg-white/20 p-2 transition"
        aria-label="Play / Pause"
      >
        ▶️
      </button>

      <button
        id="sound"
        class="text-xs px-3 py-1 rounded-full bg-red-600 hover:bg-red-700 transition"
      >
        Activar sonido
      </button>
    </div>

    <!-- Audio -->
    <audio
      id="radio"
      autoplay
      muted
      preload="none"
    >
      <source src={STREAM_URL} type="audio/mpeg" />
    </audio>
  </div>
</div>

<script>
  const audio = document.getElementById('radio');
  const playBtn = document.getElementById('playPause');
  const soundBtn = document.getElementById('sound');

  let playing = true;

  audio.play().catch(() => {});

  playBtn.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      playBtn.textContent = '⏸️';
    } else {
      audio.pause();
      playBtn.textContent = '▶️';
    }
  });

  soundBtn.addEventListener('click', () => {
    audio.muted = false;
    soundBtn.textContent = 'Sonido activo';
    soundBtn.disabled = true;
    soundBtn.classList.add('opacity-60');
  });
</script>
